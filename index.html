<!doctype html>
<html lang="id">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="theme-color" content="#0f172a" />
    <title>MindWealth Digital â€” E-book Finansial & Psikologi Uang</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <meta name="description"
        content="MindWealth Digital adalah platform e-book finansial dan psikologi uang yang dibuat oleh Farid, Rakha, dan Adit. Kami membantu kamu memahami perilaku finansial dan membangun mindset keuangan yang sehat." />
    <meta name="keywords"
        content="MindWealth Digital, e-book finansial, psikologi uang, literasi keuangan, mindset kaya, edukasi finansial, kebiasaan finansial, tim Farid Rakha Adit" />
    <meta name="author" content="Farid, Rakha, Adit" />

    <meta property="og:title" content="MindWealth Digital â€” E-book Finansial & Psikologi Uang" />
    <meta property="og:description"
        content="Temukan wawasan baru tentang finansial dan psikologi uang bersama MindWealth Digital. Dibuat oleh Farid, Rakha, dan Adit." />
    <meta property="og:image" content="https://zann06.github.io/MW//assets/banner.png" />
    <meta property="og:url" content="https://zann06.github.io/MW/" />
    <meta property="og:type" content="website" />


    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.png" />
    <link rel="icon" type="image/png" sizes="48x48" href="assets/fav" />
    <link rel="icon" type="image/png" sizes="96x96" href="assets/favicon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="assets/favicon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon.png" />




    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        html {
            scroll-behavior: smooth;
        }

        :root {
            --bg: #0f172a;
            --section: #1e293b;
            --panel: #111827;
            --card: #1f2937;
            --primary: #1e3a8a;
            --accent: #22c55e;
            --muted: #94a3b8;
            --text: #e5e7eb;
            --glass: rgba(255, 255, 255, 0.04);
            --radius: 14px;
            --max-width: 1100px;
            --bp-lg: 1100px;
            --bp-md: 900px;
            --bp-sm: 700px;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            padding-top: 90px;

            font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial;
            color: var(--text);
            background: linear-gradient(180deg, var(--bg), var(--section));
            background-attachment: fixed;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
            overflow-x: hidden;
            overflow-y: auto;

            -webkit-touch-callout: none;
            -webkit-user-select: none;

            -khtml-user-select: none;

            -moz-user-select: none;

            -ms-user-select: none;

            user-select: none;

        }



        body.loaded {
            opacity: 1;
        }


        .container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 20px;
        }


        #preloader {
            position: fixed;
            inset: 0;
            background: #0f172a;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.6s ease;
        }

        #preloader.hide {
            opacity: 0;
            pointer-events: none;
        }

        .spinner {
            width: 48px;
            height: 48px;
            border: 4px solid rgba(255, 255, 255, 0.15);
            border-top-color: #22c55e;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }


        #scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            width: 0%;
            background: linear-gradient(90deg, #22c55e, #3b82f6);
            z-index: 10000;
            transition: width 0.15s linear;
        }



        #welcome-screen {
            position: fixed;
            inset: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            overflow: hidden;
            opacity: 1;
            transition: opacity 1s ease;
        }


        .welcome-bg {
            position: absolute;
            inset: 0;
            -webkit-backdrop-filter: blur(95px) brightness(0.4) saturate(1.3);
            backdrop-filter: blur(95px) brightness(0.4) saturate(1.3);
            background: radial-gradient(circle at 50% 20%,
                    rgba(10, 15, 25, 0.9),
                    rgba(3, 5, 10, 0.92));
            z-index: 0;
            transition: all 0.4s ease;
        }


        .welcome-inner {
            position: relative;
            z-index: 1;
            color: #fff;
            animation: fadeInUp 1.2s ease both;
        }

        .welcome-logo {
            width: 120px;
            height: auto;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 14px rgba(34, 197, 94, 0.6));
        }

        #welcome-screen h1 {
            font-size: 2.3rem;
            margin: 10px 0;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        #welcome-screen h2 {
            font-size: 1.4rem;
            font-weight: 500;
            opacity: 0.95;
        }

        #welcome-screen p {
            margin-bottom: 26px;
            opacity: 0.85;
            font-size: 1.05rem;
        }

        #welcome-screen button {
            background: linear-gradient(90deg, #22c55e, #16a34a);
            color: #0f172a;
            padding: 12px 34px;
            border: none;
            border-radius: 999px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.25s ease;
            box-shadow: 0 0 25px rgba(34, 197, 94, 0.3);
        }

        #welcome-screen button:hover {
            transform: scale(1.07);
            box-shadow: 0 0 35px rgba(34, 197, 94, 0.45);
        }


        #welcome-screen.hide {
            opacity: 0;
            pointer-events: none;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 600px) {
            .welcome-logo {
                width: 90px;
            }

            #welcome-screen h1 {
                font-size: 1.7rem;
            }

            #welcome-screen h2 {
                font-size: 1.1rem;
            }

            #welcome-screen p {
                font-size: 0.9rem;
            }
        }





        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            padding: 12px 0;
            background: rgba(17, 24, 39, 0.85);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .nav-inner {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            gap: 12px;
        }

        .logo img:hover {
            transform: scale(1.05);
            transition: transform 0.2s ease;
        }


        .logo img {
            width: 100px;
            height: auto;
            object-fit: contain;
            border-radius: 8px;
            filter: drop-shadow(0 0 4px rgba(0, 255, 128, 0.4));


        }


        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 52px;
            height: 52px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), #1e40af);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: 800;
            box-shadow: 0 6px 18px rgba(2, 6, 23, 0.5);
            flex-shrink: 0;
        }

        h1 {
            margin: 0;
            font-size: 18px;
        }

        .subbrand {
            font-size: 12px;
            color: var(--muted);
        }

        .nav-wrap {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            border-radius: 14px;
            width: 100%;
        }

        .nav-links {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .nav-links a {
            color: var(--text);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            opacity: 0.95;
            padding: 6px 8px;
            border-radius: 8px;
            transition: color 0.2s ease, background 0.15s ease, transform 0.12s ease;
        }

        .nav-links a:hover,
        .nav-links a:focus {
            color: var(--accent);
            background: rgba(255, 255, 255, 0.02);
            outline: none;
        }

        .nav-links a.active {
            color: var(--accent);
            box-shadow: inset 0 -2px 0 var(--accent);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 14px;
            border-radius: 999px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            text-decoration: none;
        }

        .btn:focus {
            outline: 2px solid rgba(255, 255, 255, 0.06);
            outline-offset: 2px;
        }

        .btn-primary {
            background: linear-gradient(90deg, var(--accent), #10b981);
            color: #021018;
            box-shadow: 0 8px 30px rgba(34, 197, 94, 0.12);
        }

        .btn-ghost {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.04);
            color: var(--text);
        }

        .menu-toggle {
            display: none;
            background: transparent;
            border: none;
            color: var(--text);
            font-size: 20px;
            cursor: pointer;
        }





        .hero {
            padding: 64px 0;
            display: grid;
            grid-template-columns: 1fr 460px;
            gap: 38px;
            align-items: center;
        }

        .hero-card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
            border-radius: 18px;
            padding: 28px;
            border: 1px solid rgba(255, 255, 255, 0.03);
            box-shadow: 0 10px 40px rgba(2, 6, 23, 0.6);
        }

        .hero-title {
            font-size: 34px;
            margin: 0 0 12px;
            line-height: 1.05;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero-sub {
            color: var(--muted);
            margin: 0 0 18px;
        }

        .hero-cta {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .illustration {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.02));
            border-radius: 12px;
            padding: 20px;
            max-width: 100%;
        }

        section {
            padding: 48px 0;
        }


        section {

            height: auto;

        }




        h3 {
            color: var(--text);
            margin: 0 0 12px;
        }

        p.lead {
            color: var(--muted);
        }


        .filters {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        .filter-btn {
            padding: 8px 12px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.03);
            background: transparent;
            color: var(--muted);
            cursor: pointer;
            transition: background 0.18s, color 0.18s, transform 0.12s;
        }

        .filter-btn.active {
            background: rgba(34, 197, 94, 0.12);
            color: var(--accent);
            border-color: rgba(34, 197, 94, 0.16);
        }

        .ebooks-grid {
            display: flex;

            flex-wrap: nowrap;

            overflow-x: auto;

            gap: 18px;
            margin-top: 18px;
            padding-bottom: 12px;



            scroll-snap-type: x mandatory;
        }

        .ebook {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.015));
            padding: 16px;
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.03);
            display: flex;
            gap: 12px;
            align-items: flex-start;
            transition: transform 260ms ease, box-shadow 260ms ease;

            .ebook {



                width: 320px;

                flex-shrink: 0;

                scroll-snap-align: start;

            }
        }

        .ebook:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 18px 50px rgba(2, 6, 23, 0.65);
        }

        .cover {
            width: 86px;
            height: 116px;
            border-radius: 10px;
            background: linear-gradient(180deg, var(--primary), #1e40af);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: 800;
            font-size: 20px;
            flex-shrink: 0;

            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        @media (max-width: 1100px) {

            .hero {
                grid-template-columns: 1fr;
            }

            .calculator-glass-box {
                grid-template-columns: 1fr;
            }


        }

        @media (max-width: 900px) {


            .nav-links {
                display: flex;
                position: fixed;
                right: 18px;
                top: 72px;
                background: var(--section);
                flex-direction: column;
                min-width: 220px;


                border-radius: 8px;

                box-shadow: 0 4px 12px #0000001a;









                opacity: 0;
                transform: translateX(20px);

                visibility: hidden;
                pointer-events: none;
                transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
            }


            .nav-links.show {
                opacity: 1;

                transform: translateX(0);

                visibility: visible;
                pointer-events: auto;
            }

            .layout-grid-responsive {
                grid-template-columns: 1fr;

            }


            .blog-layout-grid {
                grid-template-columns: 1fr;
                gap: 18px;
            }

            .blog-illustration-aside {
                display: none;

            }



            .menu-toggle {
                display: block;
            }

            .blog-list {
                grid-template-columns: 1fr;
            }


            .calculator-glass-box {
                grid-template-columns: 1fr;
            }


            .nav-dropdown {
                display: contents;

            }

            .dropdown-toggle {

                width: 100%;

            }

            .dropdown-toggle i {
                display: none;

            }

            .dropdown-menu {
                display: none;

                position: static;

                width: 100%;
                background: none;
                border: none;
                border-radius: 0;
                padding: 0;
                box-shadow: none;
                -webkit-backdrop-filter: none;
                backdrop-filter: none;
            }

            .dropdown-menu a {

                padding-left: 30px !important;
                padding-top: 10px;
                padding-bottom: 10px;
            }


        }

        @media (max-width: 700px) {


            .menu-toggle {
                display: block;
            }

            header {
                padding: 8px 0;
            }

            .hero-title {
                font-size: 28px;
            }

        }

        .layout-grid-responsive {
            display: flexbox;
            grid-template-columns: 1fr 320px;
            gap: 18px;
        }



        .illustration-glass-box {
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 20px;
            -webkit-backdrop-filter: blur(18px);
            backdrop-filter: blur(18px);
            box-shadow: 0 10px 40px rgba(2, 6, 23, 0.5);
            text-align: center;
        }

        .blog-illustration-aside {
            display: none;

        }





        .blog-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);

            gap: 16px;
            margin-top: 12px;
        }

        .post {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.02));
            padding: 16px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.03);
        }

        .post a {
            color: #4f8ef7;
            text-decoration: underline;
            cursor: pointer;
        }

        .post a:hover {
            color: #1a5ed8;
        }



        img.comic-page {
            max-width: 100%;

            height: auto;

            display: block;


            max-width: 800px;

            margin: 0 auto;

        }

        .comic-text {

            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .comic-container {
            max-width: 900px;

            margin: 20px auto;

            margin-top: 24px;
            text-align: center;
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 16px;
            -webkit-backdrop-filter: blur(18px);
            backdrop-filter: blur(18px);
            box-shadow: 0 10px 40px rgba(2, 6, 23, 0.5);
        }




        .comic-swiper {
            width: 100%;

            border-radius: 8px;

            overflow: hidden;

        }


        .comic-swiper .swiper-slide img {
            width: 100%;
            height: auto;
            display: block;
        }


        .comic-swiper .swiper-button-next,
        .comic-swiper .swiper-button-prev {
            color: #37B9A3;

            opacity: 0.7;
            transition: opacity 0.2s ease;
        }

        .comic-swiper .swiper-button-next:hover,
        .comic-swiper .swiper-button-prev:hover {
            opacity: 1;
        }


        .comic-swiper .swiper-pagination-bullet-active {
            background-color: #37B9A3;

        }


        .quiz-glass-box {
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 24px;
            -webkit-backdrop-filter: blur(18px);
            backdrop-filter: blur(18px);
            box-shadow: 0 10px 40px rgba(2, 6, 23, 0.5);
            margin-top: 24px;
        }

        .quiz-option-btn {
            display: block;
            width: 100%;
            padding: 14px 18px;
            margin-bottom: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: var(--text);
            cursor: pointer;
            text-align: left;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .quiz-option-btn:hover {
            background: rgba(34, 197, 94, 0.2);
            border-color: rgba(34, 197, 94, 0.4);
            transform: scale(1.02);
        }

        .hide {
            display: none !important;
        }




        .calculator-glass-box {
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 24px;
            -webkit-backdrop-filter: blur(18px);
            backdrop-filter: blur(18px);
            box-shadow: 0 10px 40px rgba(2, 6, 23, 0.5);
            margin-top: 24px;
            display: flexbox;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            align-items: center;
        }

        .calc-input-group {
            margin-bottom: 16px;
        }

        .calc-input-group label {
            display: block;
            font-size: 0.9rem;
            color: var(--muted);
            margin-bottom: 6px;
        }

        .calculator-glass-box input {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.04);
            background: rgba(255, 255, 255, 0.02);
            color: var(--text);
            font-size: 1rem;
        }

        .calc-result-box {
            background: rgba(34, 197, 94, 0.1);

            border: 1px solid var(--accent);
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
            display: grid;
        }

        .calc-result-box h4 {
            margin: 0 0 8px;
            color: var(--text);
            font-weight: 500;
        }

        .calc-result-box h2 {
            margin: 0;
            font-size: 2.2rem;
            color: #fff;
            filter: drop-shadow(0 0 8px var(--accent));
        }


        .testimonial-slider {
            margin-top: 24px;
            overflow: hidden;
            border-radius: var(--radius);

            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
            -webkit-backdrop-filter: blur(18px);
            backdrop-filter: blur(18px);
            box-shadow: 0 10px 40px rgba(2, 6, 23, 0.5);
        }

        .testimonial-track {
            display: flex;
            width: 300%;


            animation: slide 15s infinite ease-in-out;
        }

        .testimonial-card {
            width: 33.333%;

            flex-shrink: 0;


            background: none;
            border: none;
            box-shadow: none;
            -webkit-backdrop-filter: none;
            backdrop-filter: none;


            padding: 24px;
            font-style: italic;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .testimonial-card p {
            margin: 0 0 16px;
        }

        .testimonial-footer {
            display: flex;
            align-items: center;
            gap: 12px;
            font-style: normal;
        }

        .testimonial-footer .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .testimonial-footer .name {
            font-weight: 600;
            color: var(--text);
        }

        .testimonial-footer .title {
            font-size: 0.85rem;
            color: var(--muted);
        }


        @keyframes slide {


            0%,
            30% {
                transform: translateX(0%);
            }


            33.3% {
                transform: translateX(-33.333%);
            }


            33.3%,
            63.3% {
                transform: translateX(-33.333%);
            }


            66.6% {
                transform: translateX(-66.666%);
            }


            66.6%,
            96.6% {
                transform: translateX(-66.666%);
            }


            100% {
                transform: translateX(0%);
            }
        }





        .nav-dropdown {
            position: relative;
            display: inline-block;
        }


        .dropdown-toggle {

            background: none;
            border: none;
            padding: 0;
            margin: 0;
            font: inherit;

            cursor: pointer;


            color: var(--text);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            opacity: 0.95;
            padding: 6px 8px;
            border-radius: 8px;
            transition: color 0.2s ease, background 0.15s ease, transform 0.12s ease;


            display: flex;
            align-items: center;
            gap: 4px;
        }

        .dropdown-toggle:hover {
            color: var(--accent);
            background: rgba(255, 255, 255, 0.02);
            outline: none;
        }



        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;

            left: 0;
            min-width: 220px;


            background: rgba(30, 41, 59, 0.9);

            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 8px;
            -webkit-backdrop-filter: blur(18px);
            backdrop-filter: blur(18px);
            box-shadow: 0 10px 40px rgba(2, 6, 23, 0.5);
            z-index: 1001;

        }

        .dropdown-menu a {
            display: block;
            width: 100%;
            padding: 10px 12px;
            border-radius: 8px;

        }

        .dropdown-menu a:hover {
            background: rgba(34, 197, 94, 0.2);

            color: var(--accent);
        }

        .nav-dropdown:hover .dropdown-menu {
            display: block;

        }





        .pricing-container {
            text-align: center;
            margin-bottom: 3rem;
        }

        .pricing-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 2rem;
        }

        .pricing-card {
            background: var(--card);
            border: 1px solid rgba(34, 197, 94, 0.08);
            border-radius: 1rem;
            padding: 2rem;
            width: 280px;
            color: var(--text);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .pricing-card.pro {
            background: linear-gradient(135deg, #1e3a8a, #22c55e);
            color: white;
        }

        .price {
            font-size: 1.5rem;
            margin: 0.5rem 0;
        }

        .plan-btn {
            background: #22c55e;
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 2rem;
            cursor: pointer;
            margin-top: 1rem;
            font-weight: 600;
            transition: background 0.3s, transform 0.12s;
        }

        .plan-btn:hover {
            background: #16a34a;
            transform: translateY(-2px);
        }


        form {
            background: transparent;
            padding: 12px;
            border-radius: 12px;
        }

        .form-row {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        input,
        textarea {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.04);
            background: rgba(255, 255, 255, 0.02);
            color: var(--text);
        }

        textarea {
            min-height: 110px;
        }

        footer {
            padding: 28px 0;
            background: transparent;
            margin-top: 32px;
        }

        .socials a {
            margin-right: 12px;
            text-decoration: none;
            color: var(--muted);
            font-weight: 600;
        }

        .back-top {
            position: fixed;
            right: 18px;
            bottom: 18px;
            background: linear-gradient(90deg, var(--accent), #10b981);
            color: #021018;
            padding: 10px 12px;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            box-shadow: 0 18px 44px rgba(34, 197, 94, 0.16);
            display: none;

        }

        .muted {
            color: var(--muted);
        }

        .icon {
            width: 18px;
            height: 18px;
            display: inline-block;
            vertical-align: middle;
        }


        .fade-in {
            opacity: 0;
            transform: translateY(12px);
            transition: all 560ms cubic-bezier(.2, .9, .3, 1);
        }

        .fade-in.show {
            opacity: 1;
            transform: none;
        }


        .highlight-basic {
            border: 2px solid #3b82f6;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.24);
        }

        .highlight-pro {
            border: 2px solid #22c55e;
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.24);
        }


        :focus:not(:focus-visible) {
            outline: none;
        }


        .btn:hover {
            transform: translateY(-2px) scale(1.04);
            box-shadow: 0 0 18px rgba(34, 197, 94, 0.25);
        }

        .ebook:hover {
            transform: translateY(-6px) scale(1.03);
            box-shadow: 0 0 25px rgba(34, 197, 94, 0.18);
            transition: all 0.3s ease;
        }




        .chat-bubble {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;

            background: linear-gradient(45deg, #00A9B0, #1DE9B6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;

            box-shadow: 0 0 15px #1DE9B6, 0 4px 10px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease;
            z-index: 9998;

            cursor: grab;
        }

        .chat-bubble:hover {
            transform: scale(1.1);
        }


        .chat-bubble svg {
            width: 30px;
            height: 30px;
            fill: #fff;
        }


        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            max-width: 90vw;
            height: 450px;
            background: #0F1A24;

            border-radius: 12px;

            border: 1px solid #1DE9B6;


            box-shadow: 0 0 20px rgba(29, 233, 182, 0.3), 0 5px 20px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: scale(0.9);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-out;
            z-index: 9999;
        }

        .chat-window.show {
            transform: scale(1);
            opacity: 1;
            visibility: visible;
        }


        .chat-header {
            background: #1A2B3A;

            color: #fff;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #1DE9B6;

        }

        .chat-header h3 {
            margin: 0;
            font-family: Arial, sans-serif;
            font-size: 18px;
            font-weight: bold;
            color: #1DE9B6;

        }

        .chat-header #closeChat {
            color: #fff;
            font-size: 24px;
            cursor: pointer;
            font-weight: bold;
        }


        .chat-body {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
            font-family: Arial, sans-serif;
            font-size: 14px;
            color: #E0F2F1;

        }


        .chat-message {
            padding: 10px 14px;
            border-radius: 18px;
            max-width: 85%;
            line-height: 1.4;
            word-wrap: break-word;
        }

        .chat-message.bot {
            background: #1A2B3A;

            color: #E0F2F1;
            border-bottom-left-radius: 4px;
            align-self: flex-start;
        }

        .chat-message.user {
            background: #1DE9B6;

            color: #0F1A24;

            border-bottom-right-radius: 4px;
            align-self: flex-end;
            font-weight: 500;
        }

        .chat-message.loading {
            background: #1A2B3A;
            color: #aaa;
            border-bottom-left-radius: 4px;
            align-self: flex-start;
            font-style: italic;
        }


        .chat-footer {
            display: flex;
            padding: 10px;
            border-top: 1px solid #1DE9B6;
            background: #0F1A24;
        }

        .chat-footer input {
            flex-grow: 1;
            border: 1px solid #1A2B3A;
            background: #1A2B3A;
            color: #fff;
            padding: 10px 15px;
            border-radius: 20px;
            outline: none;
            font-size: 14px;
        }

        .chat-footer input:focus {
            border-color: #1DE9B6;
        }

        .chat-footer button {
            background: #1DE9B6;
            color: #0F1A24;

            border: none;
            padding: 0 18px;
            border-radius: 20px;
            margin-left: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }

        .chat-footer button:hover {
            background: #00A9B0;

        }






        .ebooks-grid {
            cursor: grab;

        }

        .ebooks-grid.active-drag {
            cursor: grabbing;


            /* INI EFEK ANIMASINYA:
     Slider akan membesar 1% dan mendapat bayangan,
     sehingga terlihat "terangkat" dari halaman.
    */
            transform: scale(1.01);
            box-shadow: 0 10px 30px rgba(130, 16, 16, 0.15);
            -webkit-user-select: none;

            -moz-user-select: none;

            -ms-user-select: none;

            user-select: none;
        }


        .ebooks-container-wrapper {
            position: relative;

        }


        .ebooks-grid {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            gap: 18px;
            margin-top: 18px;
            padding-bottom: 12px;

            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;


            -ms-overflow-style: none;
            scrollbar-width: none;

            cursor: grab;


            transition: background-color 0.2s ease-out, transform 0.1s ease-out;
        }

        .ebooks-grid::-webkit-scrollbar {
            display: none;
        }

        .ebooks-grid.active-drag {
            cursor: grabbing;





        }


        .ebook {
            /* CSS LAMA ANDA (seperti background, padding, border) 
       TIDAK PERLU DIHAPUS, biarkan saja.
    */



            width: 320px;

            flex-shrink: 0;

            scroll-snap-align: start;

        }
    </style>
</head>


<body>
    <div class="chat-bubble" id="chatBubble">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path
                d="M12 3c-1.38 0-2.63.56-3.54 1.46C7.56 5.37 7 6.62 7 8c0 1.93 1.57 3.5 3.5 3.5.35 0 .69-.05 1.01-.15.09.2.2.38.32.55 0 0 0 .01-.01.01-.22.33-.49.62-.79.88C10.6 13.2 10.15 13.5 9.71 13.85c-.99.79-2.28 1.98-2.3 2.01-.4.49-.61 1.11-.61 1.74 0 1.38 1.12 2.5 2.5 2.5.86 0 1.63-.44 2.09-1.12.02-.03.04-.06.06-.09.38.32.79.61 1.23.86.33.19.67.36 1.02.51.52.22 1.07.34 1.63.34 1.38 0 2.63-.56 3.54-1.46 1.09-1.09 1.62-2.48 1.46-3.96-.13-1.22-.72-2.35-1.57-3.2l-1.44-1.44c-.01 0-.01-.01-.01-.01.27-.27.5-.58.68-.91.07-.13.14-.27.19-.4.05-.12.09-.24.11-.37.01-.06.02-.12.03-.18.06-.28.09-.56.09-.85 0-1.93-1.57-3.5-3.5-3.5s-3.5 1.57-3.5 3.5c0 .09 0 .18.01.27.08.76.3 1.49.61 2.15.02.04.03.08.05.12.06.14.13.27.21.4.38.59.83 1.12 1.31 1.61.02-.02.04-.03.05-.05.81-.81 1.28-1.9 1.28-3.03 0-1.38-.56-2.63-1.46-3.54C14.63 3.56 13.38 3 12 3zm0 2c.83 0 1.58.34 2.12.88.54.54.88 1.29.88 2.12 0 .83-.34 1.58-.88 2.12C13.58 10.66 12.83 11 12 11c-.83 0-1.58-.34-2.12-.88C9.34 9.58 9 8.83 9 8c0-1.06.66-1.97 1.59-2.5C10.97 5.2 11.47 5 12 5zm-1.61 7.42c-.01 0 0 0 0 0zM10.5 14.5c0 .28.22.5.5.5s.5-.22.5-.5-.22-.5-.5-.5-.5.22.5.5zm2.09 1.62c.03.03.05.05.08.07.03-.02.06-.04.08-.07-.05-.02-.11-.04-.16-.04s-.11.02-.16.04zM13.5 17.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5.22-.5.5-.5.5.22.5.5z" />
        </svg>
    </div>

    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <h3>Wealth Buddy ðŸŒ±</h3>
            <span id="closeChat">Ã—</span>
        </div>

        <div class="chat-body" id="chatBody">
            <div class="chat-message bot">
                Hey there, Iâ€™m your Wealth Buddy ðŸŒ± ready to talk goals and good vibes?
            </div>
        </div>

        <div class="chat-footer">
            <input type="text" id="chatInput" placeholder="Ketik pesan..." />
            <button id="sendButton">Kirim</button>
        </div>
    </div>

    <div id="preloader">
        <div class="spinner"></div>
    </div>
    <header>
        <div id="scroll-progress"></div>


        <div id="welcome-screen">
            <div class="welcome-bg"></div>
            <div class="welcome-inner">
                <img src="assets/logoMW.png" alt="MindWealth Logo" class="welcome-logo" />
                <h2>Selamat Datang di</h2>
                <h1>MindWealth Digital</h1>
                <p>E-book Finansial & Psikologi Uang</p>
                <button id="enterBtn">Masuk</button>
            </div>
        </div>
        <div class="container">
            <nav class="nav-wrap" aria-label="Main navigation">
                <div class="nav-inner">
                    <div class="brand" aria-hidden="false">
                        <div class="logo">
                            <img src="assets/logoMW.png" alt="MindWealth Digital Logo" />
                        </div>

                        <div>
                            <h1>MindWealth Digital</h1>
                            <div class="subbrand">E-book Finansial & Psikologi Uang</div>
                        </div>
                    </div>

                    <div style="display:flex;align-items:center;gap:12px">
                        <button class="menu-toggle" id="menuToggle" aria-expanded="false" aria-controls="navLinks"
                            aria-label="Toggle menu">â˜°</button>

                        <div class="nav-links" id="navLinks" role="menu">
                            <a href="#home" role="menuitem">Home</a>
                            <a href="#about" role="menuitem">About</a>
                            <a href="#library" role="menuitem">Library</a>
                            <div class="nav-dropdown">
                                <button type="button" class="dropdown-toggle" role="menuitem" aria-haspopup="true">
                                    Fitur <i data-lucide="chevron-down" style="width:16px; height:16px;"></i>
                                </button>
                                <div class="dropdown-menu">
                                    <a href="#journey" role="menuitem">Adit's Journey</a>
                                    <a href="#quiz" role="menuitem">Financial Quiz</a>
                                    <a href="#calculator" role="menuitem">Calculator</a>
                                    <a href="#testimonials" role="menuitem">Testimonials</a>
                                </div>
                            </div>
                            <a href="#blog" role="menuitem">Blog</a>
                            <a href="#contact" role="menuitem">Contact</a> <a class="btn btn-primary"
                                href="#library">Explore</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">

        <section id="home" class="hero">
            <div class="hero-card fade-in">
                <span class="badge"
                    style="display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.04);width:max-content"><svg
                        class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                        aria-hidden="true">
                        <path d="M12 3v18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M3 12h18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg><strong>Premium</strong></span>
                <h2 class="hero-title">Grow Your Mind, Build Your Wealth.</h2>
                <p class="hero-sub">Panduan ringkas & aplikatif tentang literasi finansial, investasi awal, psikologi
                    uang, dan manajemen uang untuk generasi muda yang ingin berevolusi.</p>
                <div class="hero-cta">
                    <a class="btn btn-primary" href="#library">Explore E-books</a>
                    <a class="btn btn-ghost" href="#subscribe">Subscribe</a>
                </div>

                <div style="display:flex;gap:12px;margin-top:18px;flex-wrap:wrap">
                    <div class="stat">
                        <div style="font-size:12px;color:var(--muted)">E-books</div>
                        <div style="font-weight:800;font-size:18px">+120</div>
                    </div>
                    <div class="stat">
                        <div style="font-size:12px;color:var(--muted)">Subscribers</div>
                        <div style="font-weight:800;font-size:18px">1.2k</div>
                    </div>
                </div>
            </div>

            <aside class="illustration fade-in" style="flex-direction:column;gap:12px" aria-hidden="true">
                <svg width="260" height="220" viewBox="0 0 260 220" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="g1" x1="0" x2="1">
                            <stop offset="0" stop-color="#22C55E" />
                            <stop offset="1" stop-color="#3B82F6" />
                        </linearGradient>
                    </defs>
                    <rect x="8" y="8" width="244" height="204" rx="14" fill="url(#g1)" opacity="0.08" />
                    <g transform="translate(28,30)" fill="none" stroke="#eafaf1" stroke-width="1.6">
                        <path
                            d="M34 26c-8 0-14 10-8 18 0 0 8 14 22 8 0 0 6-12 18-12 8 0 14-6 14-12 0-8-6-12-12-12-6 0-8 6-18 6s-18-2-36 4z"
                            opacity="0.95" />
                    </g>
                    <g transform="translate(40,120)" fill="none" stroke="#d1fae5" stroke-width="2">
                        <path d="M0 40 L40 10 L80 30 L120 0" stroke-linecap="round" stroke-linejoin="round" />
                    </g>
                </svg>
                <div style="text-align:center;color:var(--muted);font-size:13px">Ilustrasi: Mindset & Growth</div>
            </aside>
        </section>

        <section id="about" class="fade-in">
            <h3><i data-lucide="book-open"></i> About MindWealth Digital</h3>

            <p class="lead">Visi kami adalah membangun generasi yang cakap finansial dan sehat secara psikologis dalam
                mengambil keputusan ekonomi. Misi kami menyediakan e-book berkualitas, singkat, dan aplikatif untuk
                membantu pembaca membangun kebiasaan finansial positif.</p>

            <div class="layout-grid-responsive" style="margin-top:18px">
                <div>
                    <h4>Kenapa literasi finansial penting?</h4>
                    <p class="muted">Generasi muda menghadapi pilihan finansial yang kompleks. Literasi finansial
                        membantu mengurangi kecemasan, menemukan kebebasan finansial, dan membuka peluang investasi yang
                        aman serta terukur.</p>
                </div>
                <aside
                    style="background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
                    <strong>Visi</strong>
                    <p class="muted">Menciptakan masyarakat yang mampu membuat keputusan finansial cerdas.</p>
                    <strong>Misi</strong>
                    <p class="muted">Mendistribusikan pengetahuan finansial dan psikologi uang dalam format yang mudah
                        dicerna.</p>
                </aside>
            </div>
        </section>

        <section id="journey" class="fade-in">
            <h3><i data-lucide="rocket"></i> Adit's Journey to MindWealth</h3>
            <p class="muted">Ikuti kisah Adit dari bingung mengelola uang hingga menjadi investor cerdas bersama kami.

                <div class="comic-container">
                    <div class="swiper comic-swiper">

                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <img src="assets/comic/comic1.jpg" alt="Komik Adit Halaman 1">
                            </div>
                            <div class="swiper-slide">
                                <img src="assets/comic/comic2.jpg" alt="Komik Adit Halaman 2">
                            </div>
                            <div class="swiper-slide">
                                <img src="assets/comic/comic3.jpg" alt="Komik Adit Halaman 3">
                            </div>
                            <div class="swiper-slide">
                                <img src="assets/comic/comic4.jpg" alt="Komik Adit Halaman 4">
                            </div>
                            <div class="swiper-slide">
                                <img src="assets/comic/comic5.jpg" alt="Komik Adit Halaman 5">
                            </div>
                            <div class="swiper-slide">
                                <img src="assets/comic/comic6.jpg" alt="Komik Adit Halaman 6">
                            </div>
                            <div class="swiper-slide">
                                <img src="assets/comic/comic7.jpg" alt="Komik Adit Halaman 7">

                            </div>
                            <div class="swiper-slide">
                                <img src="assets/comic/comic8.jpg" alt="Komik Adit Halaman 8">
                            </div>
                        </div>

                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>

                    </div>
                </div>
        </section>

        <section id="quiz" class="fade-in">
            <h3><i data-lucide="help-circle"></i> Cek Profil Finansialmu</h3>
            <p class="muted">Tipe investor apakah kamu? Jawab 3 pertanyaan singkat ini untuk mengetahuinya.</p>

            <div id="quiz-container" class="quiz-glass-box">
                <h4 id="quiz-question" style="line-height: 1.4; min-height: 40px;">Memuat pertanyaan...</h4>
                <div id="quiz-options">
                </div>
            </div>

            <div id="quiz-result" class="quiz-glass-box hide">
                <h4>Hasil Profil Anda:</h4>
                <h2 id="quiz-result-title" style="color: var(--accent); margin: 0;"></h2>
                <p id="quiz-result-desc" class="muted"></p>
                <button id="quiz-retake-btn" class="btn btn-primary" style="margin-top: 12px;">
                    <i data-lucide="refresh-cw" class="icon"></i> Ulangi Kuis
                </button>
            </div>
        </section>

        <section id="calculator" class="fade-in">
            <h3><i data-lucide="bar-chart-2"></i> Kalkulator Investasi</h3>
            <p class="muted">Hitung potensi pertumbuhan uang Anda dengan Bunga Majemuk (Compound Interest).</p>

            <div class="calculator-glass-box">
                <form id="calc-form">
                    <div class="calc-input-group">
                        <label for="calc-principal">Modal Awal (Rp)</label>
                        <input type="number" id="calc-principal" value="1000000" required>
                    </div>
                    <div class="calc-input-group">
                        <label for="calc-monthly">Setoran Bulanan (Rp)</label>
                        <input type="number" id="calc-monthly" value="500000" required>
                    </div>
                    <div class="calc-input-group">
                        <label for="calc-interest">Estimasi Bunga per Tahun (%)</label>
                        <input type="number" id="calc-interest" value="8" required>
                    </div>
                    <div class="calc-input-group">
                        <label for="calc-years">Lama Menabung (Tahun)</label>
                        <input type="number" id="calc-years" value="10" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="gap: 8px;">
                        <i data-lucide="calculator" class="icon"></i> Hitung
                    </button>
                </form>

                <div id="calc-result" class="calc-result-box hide">
                    <h4>Hasil Investasi Anda dalam 10 tahun:</h4>
                    <h2 id="calc-result-total">Rp 0</h2>
                    <p class="muted" style="font-size: 0.9rem; margin-top: 12px;">
                        Total Modal: <span id="calc-result-principal">Rp 0</span><br>
                        Total Bunga: <span id="calc-result-interest">Rp 0</span>
                    </p>
                </div>
            </div>
        </section>

        <section id="library" class="fade-in">
            <div style="display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap">
                <div>
                    <h3><i data-lucide="library"></i> E-Book Library</h3>
                    <p class="muted">Filter berdasarkan kategori, lalu baca atau unduh e-book favoritmu.</p>
                </div>
                <div class="muted">Total: <span id="totalCount">0</span> e-books</div>
            </div>

            <div class="filters" style="margin-top:12px">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="Finance">Finance & Management</button>
                <button class="filter-btn" data-filter="Investment">Investment</button>
                <button class="filter-btn" data-filter="Psychology">Psychology</button>
            </div>



            <div id="ebooksGrid" class="ebooks-grid">
            </div>


            </div>
        </section>

        <section id="blog" class="fade-in">
            <div class="blog-layout-grid">
                <div class="blog-content">
                    <h3><i data-lucide="file-text"></i> Blog / Insight</h3>
                    <p class="muted">Artikel singkat tentang kebiasaan finansial dan psikologi uang.</p>
                    <div class="blog-list" id="blogList"></div>
                </div>
            </div>
        </section>
        <section id="testimonials" class="fade-in">
            <h3><i data-lucide="star"></i> Kata Mereka</h3>
            <p class="muted">Lihat apa kata para member yang sudah bergabung dengan MindWealth.</p>

            <div class="testimonial-slider">
                <div class="testimonial-track">
                    <div class="testimonial-card">
                        <p>"MindWealth mengubah cara saya melihat uang. E-book 'Psikologi Uang'-nya wajib dibaca! Sangat
                            membuka wawasan."</p>
                        <div class="testimonial-footer">
                            <div class="avatar">JR</div>
                            <div>
                                <div class="name">Jeyo R.</div>
                                <div class="name">Jeyo R.</div>
                                <div class="title">Investor Pemula</div>
                            </div>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <p>"Kuis profilnya akurat! Saya jadi sadar kalau saya tipe moderat. Ini membantu saya memilih
                            e-book yang tepat di library."</p>
                        <div class="testimonial-footer">
                            <div class="avatar">A</div>
                            <div>
                                <div class="name">Adit</div>
                                <div class="title">Mahasiswa</div>
                            </div>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <p>"Kontennya premium dan aplikatif. Jauh lebih baik dari seminar mahal. 'Pro Plan' sangat
                            *worth it*!"</p>
                        <div class="testimonial-footer">
                            <div class="avatar">T</div>
                            <div>
                                <div class="name">Tama</div>
                                <div class="title">Mahasiswa</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <div class="pricing-container fade-in">
            <h2 class="section-title">Pilih Paket Langganan</h2>
            <div class="pricing-grid">
                <div class="pricing-card">
                    <h3>Basic Plan</h3>
                    <p class="price">Rp50.000 / bulan</p>
                    <ul>
                        <li> Akses ke 10 e-book populer</li>
                        <li> Update mingguan</li>
                        <li> Tidak termasuk e-book premium</li>
                    </ul>
                    <button class="plan-btn" onclick="viewBooks('basic')">Lihat Buku</button>
                </div>

                <div class="pricing-card pro">
                    <h3>Pro Plan</h3>
                    <p class="price">Rp120.000 / bulan</p>
                    <ul>
                        <li> Akses semua e-book (50+)</li>
                        <li> Update mingguan & bulanan</li>
                        <li> Early access e-book baru</li>
                    </ul>
                    <button class="plan-btn" onclick="viewBooks('pro')">Liah Buku</button>
                </div>
            </div>
        </div>

        <section id="subscribe" class="fade-in">
            <h3><i data-lucide="mail"></i> Subscribe</h3>
            <p class="muted">Dapatkan update e-book baru dan insight eksklusif.</p>
            <form id="subscribeForm" style="max-width:640px;margin-top:12px">
                <div class="form-row">
                    <input type="text" id="subName" placeholder="Nama" required />
                    <input type="email" id="subEmail" placeholder="Email" required />
                </div>
                <div style="display:flex;gap:8px;align-items:center">
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                    <button type="button" class="btn btn-ghost" id="downloadSubs">Download Subscribers (JSON)</button>
                </div>
                <div id="subscribeMsg" style="margin-top:12px"></div>
            </form>
        </section>

        <section id="contact" class="fade-in">
            <h3>Contact</h3>
            <p class="muted">Ada pertanyaan, kerja sama, atau usulan e-book? Hubungi kami.</p>
            <div class="layout-grid-responsive" style="margin-top:12px">
                <form id="contactForm">
                    <div class="form-row">
                        <input type="text" id="cName" placeholder="Nama" required />
                        <input type="email" id="cEmail" placeholder="Email" required />
                    </div>
                    <div style="margin-bottom:12px">
                        <textarea id="cMessage" placeholder="Pesan" required></textarea>
                    </div>
                    <div style="display:flex;gap:8px">
                        <button class="btn btn-primary" type="submit">Kirim Pesan</button>
                        <button class="btn btn-ghost" type="button" id="resetContact">Reset</button>
                    </div>
                    <div id="contactMsg" style="margin-top:12px"></div>
                </form>

                <aside>
                    <h4>Socials</h4>
                    <p class="muted">Ikuti MindWealth Digital di media sosial untuk konten singkat dan video.</p>
                    <div class="socials" style="margin-top:12px">
                        <a href="https://www.instagram.com/mindwealth.digital?igsh=MTAyZmp5NnJkanZ3aQ==" target="_blank"
                            rel="noopener">Instagram</a>
                        <a href="#" target="_blank" rel="noopener">LinkedIn</a>
                        <a href="https://www.tiktok.com/@mindwealth.digita?_r=1&_t=ZS-91HcPGMKNNQ" target="_blank"
                            rel="noopener">TikTok</a>
                    </div>

                    <div style="margin-top:18px">
                        <strong>Alamat email</strong>
                        <div class="muted">mindwealth.digital@gmail.com</div>
                    </div>
                </aside>
            </div>
        </section>

    </main>

    <footer>
        <div class="container"
            style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px">
            <div class="muted">Â© <span id="year"></span> MindWealth Digital â€” All rights reserved.</div>
            <div><a href="mailto:hello@mindwealth.digital" class="muted">mindwealth.digital@gmail.com</a></div>
        </div>
    </footer>

    <button class="back-top" id="backTop" title="Back to top">â†‘</button>

    <template id="ebookTpl">
        <div class="ebook">
            <div class="cover">CV</div>
            <div style="flex:1">
                <h4>Title</h4>
                <p class="muted">Short description</p>
                <div style="display:flex;gap:8px;margin-top:10px">
                    <button class="btn btn-primary readBtn">Read</button>
                    <button class="btn btn-ghost downloadBtn">Download</button>
                </div>
            </div>
        </div>
    </template>

    <script>
        // ===== FUNGSI UNTUK NAVIGASI (DROPDOWN, ACTIVE LINKS) =====

        // Fungsi untuk toggle dropdown
        function toggleDropdown(event) {
            event.preventDefault(); // Mencegah link pindah halaman
            const dropdownMenu = event.currentTarget.nextElementSibling;
            dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';

            // Logika untuk mobile (jika dropdown dibuka, menu lain jangan ditutup)
            if (window.innerWidth <= 900) {
                // Biarkan menu utama tetap terbuka
            }
        }

        // Fungsi untuk menutup dropdown jika klik di luar
        window.onclick = function (event) {
            if (!event.target.matches('.dropdown-toggle')) {
                const dropdowns = document.getElementsByClassName("dropdown-menu");
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (openDropdown.style.display === 'block') {
                        openDropdown.style.display = 'none';
                    }
                }
            }
        }

        // ===== Data (dummy) =====
        // Kita letakkan datanya di atas agar bisa diakses oleh fungsi di bawah
        const ebooks = [{
                id: 1,
                title: 'Cashflow Quadrant',
                category: 'Finance',
                desc: 'Panduan Robert Kiyosaki tentang 4 tipe penghasil uang (E, S, B, I) dan cara beralih ke kuadran B (Bisnis) dan I (Investor).',
                coverText: 'CQ',
                imgUrl: 'assets/images/cover_CQ.jpg',
                file: 'https://drive.google.com/file/d/1_NUoE0To3VKEpiQgo6EktdwLDPpZ0d7x/view?usp=drive_link'
            },
            {
                id: 2,
                title: 'CTK',
                category: 'Money',
                desc: 'Panduan praktis dan strategi jitu untuk mengelola keuangan pribadi Anda sehari-hari agar lebih efektif dan terarah.',
                coverText: 'CT',
                imgUrl: 'assets/images/cover_CT.png',
                file: 'https://drive.google.com/file/d/1aLYjgpdZCpfEIUiABbQkhcvYD1b3Uq0k/view?usp=drive_link'
            },
            {
                id: 3,
                title: 'The Ricshest Man in Babylon',
                category: 'Finance',
                desc: 'Kumpulan perumpamaan dari Babilonia kuno yang mengajarkan prinsip abadi tentang menabung, mengelola utang, dan berinvestasi.',
                coverText: 'TB',
                imgUrl: 'assets/images/cover_TB.png',
                file: 'https://drive.google.com/file/d/1ZykyRcAfEWhSNso-vfphiWRYteGTeHQt/view?usp=drive_link'
            },
            {
                id: 4,
                title: 'Rich Dad Poor Dad',
                category: 'Money',
                desc: 'Buku klasik yang membandingkan pola pikir "Ayah Kaya" dan "Ayah Miskin" tentang uang, aset, dan literasi finansial.',
                coverText: 'RD',
                imgUrl: 'assets/images/cover_RD.jpg',
                file: 'https://drive.google.com/file/d/1i9PDKpmC9bc9Y42UdMDM_lcIDq7PYyTU/view?usp=drive_link'
            },
            {
                id: 5,
                title: 'TIA Research',
                category: 'Finance',
                desc: 'Laporan riset mendalam mengenai tren keuangan terbaru, analisis pasar, dan proyeksi ekonomi untuk keputusan strategis.',
                coverText: 'TR',
                imgUrl: 'assets/images/cover_TR.png',
                file: 'https://drive.google.com/file/d/1CLLYbZEbrpXBqtB8KI4LZNQXvqus2bv5/view?usp=drive_link'
            },
            {
                id: 6,
                title: 'Kebebasan Financial',
                category: 'Finance',
                desc: 'Sebuah panduan strategi untuk mencapai kebebasan finansial, mulai dari mengelola utang hingga membangun arus pendapatan pasif.',
                coverText: 'KF',
                imgUrl: 'assets/images/cover_KF.png',
                file: 'https://drive.google.com/file/d/1ZqlK6xCKw0cPChuh9Yoj1nBwim82y-gj/view?usp=drive_link'
            },
            {
                id: 7,
                title: 'Crypto These For 2024',
                category: 'Finance',
                desc: 'Prediksi crypto teratas untuk 2024. Aset digital dan tren yang wajib Anda pantau di kategori Finance.',
                coverText: 'C2',
                imgUrl: 'assets/images/cover_C2.png',
                file: 'https://drive.google.com/file/d/1grtbClBRw7y9dASxKhtraNV914w_yRd-/view?usp=drive_link'
            },
            {
                id: 8,
                title: 'Candlestick Bible',
                category: 'Investment',
                desc: 'Panduan komprehensif untuk trader dalam membaca dan menginterpretasi berbagai pola candlestick untuk analisis teknikal.',
                coverText: 'CB',
                imgUrl: 'assets/images/cover_CB.png',
                file: 'https://drive.google.com/file/d/12yIJZYuRBDWmarLur_XZKZBxOwrt9Jd9/view?usp=drive_link'
            },
            {
                id: 9,
                title: 'How to Trade with Price Action',
                category: 'Investment',
                desc: 'Strategi trading yang berfokus pada analisis pergerakan harga murni (price action) tanpa bergantung pada indikator.',
                coverText: 'HT',
                imgUrl: 'assets/images/cover_HT.png',
                file: 'https://drive.google.com/file/d/1ynX1K-qGTADd8kIqDS0xw6TBatHZ_1q6/view?usp=drive_link'
            },
            {
                id: 10,
                title: 'AC Research',
                category: 'Investment',
                desc: 'Kumpulan data dan analisis riset eksklusif mengenai peluang investasi, valuasi aset, dan sektor-sektor yang berpotensi.',
                coverText: 'AC',
                imgUrl: 'assets/images/cover_AC.png',
                file: 'https://drive.google.com/file/d/15ZMKVVyvgFMhvSWBloD-II-iEC4lDes2/view?usp=drive_link'
            },
            {
                id: 11,
                title: 'SMC Davinci',
                category: 'Investment',
                desc: 'Panduan mendalam tentang strategi trading \'Smart Money Concept\' (SMC), berfokus pada likuiditas dan struktur pasar.',
                coverText: 'SD',
                imgUrl: 'assets/images/cover_SD.png',
                file: 'https://drive.google.com/file/d/1bjqimRx-qOK3Au5rZd7gLmOvgHjyvQdM/view?usp=drive_link'
            },
            {
                id: 12,
                title: 'Supply and Demand by Uncensored Trader',
                category: 'Investment',
                desc: 'Metode trading yang berfokus pada identifikasi zona Supply (penawaran) dan Demand (permintaan) di pasar.',
                coverText: 'ST',
                imgUrl: 'assets/images/cover_ST.png',
                file: 'https://drive.google.com/file/d/187CqMumpdNaQCr3U580oo82rgVqjTe8T/view?usp=drive_link'
            },
            {
                id: 13,
                title: 'Technical Analiysis For Mega Profit',
                category: 'Investment',
                desc: 'Kumpulan teknik dan strategi analisis teknikal untuk mengidentifikasi tren dan peluang profit di pasar saham atau forex.',
                coverText: 'TA',
                imgUrl: 'assets/images/cover_TA.png',
                file: 'https://drive.google.com/file/d/1IuISTMU5q8B3kpzZS9eI3xZF_xb0DVL8/view?usp=drive_link'
            },
            {
                id: 14,
                title: 'Trade Your Way to Financial Fredom',
                category: 'Investment',
                desc: 'Karya klasik Van K. Tharp yang fokus pada psikologi trading, manajemen risiko, dan position sizing untuk profit konsisten.',
                coverText: 'TY',
                imgUrl: 'assets/images/cover_TY.png',
                file: 'https://drive.google.com/file/d/1Q2Fk7dfslcm7a72WW8giLTaZQ63pKw61/view?usp=drive_link'
            },
            {
                id: 15,
                title: 'Dark Psychology The Partical Uses and Best Defenses of Psychological Warfare in Everyday Life',
                category: 'Psychology',
                desc: 'Menjelajahi sisi gelap psikologi, termasuk teknik manipulasi, persuasi, dan cara bertahan dari perang psikologis sehari-hari.',
                coverText: 'DP',
                imgUrl: 'assets/images/cover_DP.png',
                file: 'https://drive.google.com/file/d/1x3uVO9i-kj0jay1hqomY_Kd1SJzQqb-H/view?usp=drive_link'
            },
            {
                id: 16,
                title: 'The Communication Book 44 Ideas for Better Conversations Every Day',
                category: 'Psychology',
                desc: 'Kumpulan 44 ide praktis untuk meningkatkan keterampilan komunikasi, percakapan, dan interaksi sosial Anda setiap hari.',
                coverText: 'TC',
                imgUrl: 'assets/images/cover_TC.png',
                file: 'https://drive.google.com/file/d/1_vl6fCiwLwBYHx9hWCDchuT_Er7JQg6i/view?usp=drive_link'
            },
            {
                id: 17,
                title: 'The Psychology of Money',
                category: 'Psychology',
                desc: 'Buku populer oleh Morgan Housel yang menjelaskan bahwa kesuksesan finansial lebih tentang perilaku daripada kecerdasan teknis.',
                coverText: 'TM',
                imgUrl: 'assets/images/cover_TM.png',
                file: 'https://drive.google.com/file/d/18EBB-ws_fHWsqJVOK_YWEB39ver2a-dU/view?usp=drive_link'
            },
            {
                id: 18,
                title: 'Think and Grow Rich',
                category: 'Psychology',
                desc: 'Karya klasik Napoleon Hill yang menguraikan 13 langkah menuju kesuksesan, berfokus pada kekuatan pikiran dan mindset positif.',
                coverText: 'TG',
                imgUrl: 'assets/images/cover_TG.png',
                file: 'https://drive.google.com/file/d/16LRm8ZWxGu9xvdHQf0YHHzHP2MOF_IUm/view?usp=drive_link'
            },
            {
                id: 19,
                title: 'How To Win Friends Influence People In The Digital Age',
                category: 'Psychology',
                desc: 'Adaptasi modern dari buku klasik Dale Carnegie untuk menjalin hubungan dan berkomunikasi di era digital dan media sosial.',
                coverText: 'HI',
                imgUrl: 'assets/images/cover_HI.png',
                file: 'https://drive.google.com/file/d/1HBMr-e1rCpB5vssSUvqdhT_yt7BHFIBz/view?usp=drive_link'
            },
            {
                id: 20,
                title: 'Copywriting Revolution',
                category: 'Psychology',
                desc: 'Panduan modern tentang seni *copywriting* yang persuasif, menggabungkan psikologi penjualan dengan teknik menulis era digital.',
                coverText: 'CR',
                imgUrl: 'assets/images/cover_CR.png',
                file: 'https://drive.google.com/file/d/1emXja7c8em7xi501AuNKFvyUCPcMRNnK/view?usp=drive_link'
            },
            {
                id: 21,
                title: 'The Art of Manipulation',
                category: 'Psychology',
                desc: 'Mengungkap teknik-teknik manipulasi psikologis, cara kerjanya, dan bagaimana cara mengenali serta melawannya.',
                coverText: 'AM',
                imgUrl: 'assets/images/cover_AM.png',
                file: 'https://drive.google.com/file/d/13mVN741BIZnBQls5UDOZT755uYPU4NtF/view?usp=drive_link'
            },
            {
                id: 22,
                title: 'You Are a Badass at Making Money Master',
                category: 'Psychology',
                desc: 'Panduan motivasional oleh Jen Sincero untuk mengatasi \'mental block\' dan ketakutan Anda seputar uang agar bisa kaya.',
                coverText: 'YB',
                imgUrl: 'assets/images/cover_YB.png',
                file: 'https://drive.google.com/file/d/1HIVQ7jcXx8sJrmvPygF-MV1cYOk9z9WS/view?usp=drive_link'
            },
            {
                id: 23,
                title: 'Profit Konsisten (Ichimoku Kinko Hyo)',
                category: 'Investment',
                desc: 'Pelajari strategi trading profit konsisten menggunakan indikator teknikal Ichimoku Kinko Hyo.',
                coverText: 'CP',
                imgUrl: 'assets/images/cover_CP.png',
                file: 'https://drive.google.com/file/d/1PZHRilrqNLiY6dkNe9JIvw8wHQTclUtk/view?usp=drive_link'
            },
            {
                id: 23,
                title: 'Basic Trading',
                category: 'Investment',
                desc: 'Panduan dasar dan pengenalan fundamental untuk memulai trading bagi pemula.',
                coverText: 'BE',
                imgUrl: 'assets/images/cover_BE.png',
                file: 'https://drive.google.com/file/d/1UBTH_4EpWAiOy1LgZZvh05kSKXqviPmR/view?usp=drive_link'
            },
            {
                id: 24,
                title: 'Belajar Trading Untuk Pemula',
                category: 'Investment',
                desc: 'Mulai perjalanan Anda di dunia trading dari nol. Panduan langkah demi langkah untuk pemula.',
                coverText: 'BTU',
                imgUrl: 'assets/images/cover_BTU.png',
                file: 'https://drive.google.com/file/d/1S6YaRN2d2yxMG7vhEd1afT2dw3jcVu_9/view?usp=drive_link'
            },
            {
                id: 25,
                title: 'Binance Academy Cryptocurrency',
                category: 'Investment',
                desc: 'Kumpulan materi edukasi lengkap seputar dunia cryptocurrency dari Binance Academy.',
                coverText: 'BAC',
                imgUrl: 'assets/images/cover_BAC.png',
                file: 'https://drive.google.com/file/d/1q_lsq3-sz05uwAWM8H6EH7e8yELbPl-f/view?usp=drive_link'
            },
            {
                id: 26,
                title: 'Crypto Cash Machine',
                category: 'Investment',
                desc: 'Temukan strategi dan metode untuk membangun aliran pendapatan dari aset crypto.',
                coverText: 'CCM',
                imgUrl: 'assets/images/cover_CCM.png',
                file: 'https://drive.google.com/file/d/1RjKVY_7mKezxYrPp1eWyRPcB1DPnl4pq/view?usp=drive_link'
            },
            {
                id: 27,
                title: 'Kamus Candlestick',
                category: 'Investment',
                desc: 'Referensi lengkap berbagai pola candlestick dan interpretasinya dalam analisis trading.',
                coverText: 'KC',
                imgUrl: 'assets/images/cover_KC.png',
                file: 'https://drive.google.com/file/d/1fpNzRz07aknaP_Oq0uR6z0_h29hcoMsb/view?usp=drive_link'
            },
            {
                id: 28,
                title: 'Crypto Investing Principles',
                category: 'Investment',
                desc: 'Pahami prinsip-prinsip inti dan fundamental untuk berinvestasi di pasar crypto.',
                coverText: 'CIP',
                imgUrl: 'assets/images/cover_CIP.png',
                file: 'https://drive.google.com/file/d/1wUIQkg0Ixim0DEZYPtSho-pA9A_FimSj/view?usp=drive_linkk'
            },
            {
                id: 29,
                title: 'Cara Cepat Membaca Bahasa Tubuh',
                category: 'Psychology',
                desc: 'Panduan praktis untuk menginterpretasi dan memahami makna di balik bahasa tubuh.',
                coverText: 'CBT',
                imgUrl: 'assets/images/cover_CBT.png',
                file: 'https://drive.google.com/file/d/1KPam7k11NhwoHunNGCUdgaxbhtmLWCuP/view?usp=drive_link'
            },
            {
                id: 30,
                title: 'The Hitler Effect',
                category: 'Psychology',
                desc: 'Analisis psikologis tentang pengaruh, karisma, dan kepatuhan massa.',
                coverText: 'HE',
                imgUrl: 'assets/images/cover_HE.png',
                file: 'https://drive.google.com/file/d/1vwBJfu_m__qGni2vcMOQk6emfch6cOnb/view?usp=drive_link'
            },
            {
                id: 31,
                title: 'Atomic Habits',
                category: 'Psychology',
                desc: 'Metode membangun kebiasaan kecil yang baik dan menghilangkan kebiasaan buruk.',
                coverText: 'AH',
                imgUrl: 'assets/images/cover_AH.png',
                file: 'https://drive.google.com/file/d/1A7Fyx8AdKUde_Lj_XrMRKmyVI8jz6y97/view?usp=drive_link'
            },
            {
                id: 32,
                title: 'Cara Berbicara Kepada Setiap Orang Dalam Setiap Situasi',
                category: 'Psychology',
                desc: 'Tingkatkan keterampilan komunikasi Anda agar percaya diri di situasi apapun.',
                coverText: 'CBK',
                imgUrl: 'assets/images/cover_CBK.png',
                file: 'https://drive.google.com/file/d/1tWJOaqE8hDQhjfBvdj-alHODkBgjnjQ1/view?usp=drive_link'
            },
            {
                id: 33,
                title: 'Sebuah Seni Untuk Bersikap Bodo Amat',
                category: 'Psychology',
                desc: 'Pendekatan unik untuk fokus pada hal-hal penting dan menjalani hidup lebih bahagia.',
                coverText: 'SSU',
                imgUrl: 'assets/images/cover_SSU.png',
                file: 'https://drive.google.com/file/d/110YZiNnbEQokBK2q88facKFx_K-76R_v/view?usp=drive_link'
            },
            {
                id: 34,
                title: 'Seni Berbicara Kepada Siapa Saja, Kapan Saja, di Mana Saja',
                category: 'Psychology',
                desc: 'Kiat ahli untuk menjadi pembicara yang lebih efektif dan persuasif di setiap kesempatan.',
                coverText: 'SBK',
                imgUrl: 'assets/images/cover_SBK.png',
                file: 'https://drive.google.com/file/d/1M_5deA3aGBeELIq17BX4WJ_iqH6bLVc4/view?usp=drive_link'
            },
            {
                id: 35,
                title: 'Seni Membaca Pikiran',
                category: 'Psychology',
                desc: 'Pelajari cara memahami apa yang dipikirkan dan dirasakan orang lain melalui petunjuk halus.',
                coverText: 'SMP',
                imgUrl: 'assets/images/cover_SMP.png',
                file: 'https://drive.google.com/file/d/1DKUfQ0H08JVY2yhwDnZcX96ZHW2Ngpmg/view?usp=drive_link'
            },


        ];

        const posts = [{
                id: 1,
                title: '5 Kebiasaan Finansial Sehat',
                excerpt: 'Praktik sederhana yang bisa kamu mulai hari ini untuk memperbaiki kondisi finansial.',
                url: 'https://www.heygotrade.com/en/blog/langkah-bangun-kebiasaan-finansial-sehat/'
            },
            {
                id: 2,
                title: 'Cara Mengelola Gaji Pertama',
                excerpt: 'Langkah praktis menyusun prioritas setelah menerima gaji pertama.',
                url: 'https://www.prudential.co.id/id/pulse/article/gaji-pertama/'
            },
            {
                id: 3,
                title: 'Mengatasi FOMO saat Investasi',
                excerpt: 'Bagaimana menjaga kepala tetap dingin saat pasar ramai.',
                url: 'https://www.lbs.id/publication/investasi/viral-fatal-7-cara-mengatasi-fomo-investasi-agar-dompet-tebal-merdeka-finansial'
            }
        ];

        const quizQuestions = [{
                question: "Jika Anda mendapat uang bonus, apa yang pertama kali Anda lakukan?",
                options: [{
                        text: "Simpan di rekening tabungan agar aman.",
                        value: 'A'
                    },
                    {
                        text: "Sebagian ditabung, sebagian diinvestasikan.",
                        value: 'B'
                    },
                    {
                        text: "Cari peluang investasi berisiko tinggi untuk untung besar.",
                        value: 'C'
                    }
                ]
            },
            {
                question: "Bagaimana perasaan Anda jika nilai investasi Anda tiba-tiba turun 15%?",
                options: [{
                        text: "Sangat panik dan mungkin akan langsung menjualnya.",
                        value: 'A'
                    },
                    {
                        text: "Cemas, tapi akan menahannya dan berharap nilainya kembali.",
                        value: 'B'
                    },
                    {
                        text: "Melihatnya sebagai peluang untuk membeli lebih banyak (buy the dip).",
                        value: 'C'
                    }
                ]
            },
            {
                question: "Apa tujuan utama Anda dalam berinvestasi?",
                options: [{
                        text: "Keamanan modal. Yang penting uang tidak hilang.",
                        value: 'A'
                    },
                    {
                        text: "Pertumbuhan seimbang untuk jangka panjang (misal: dana pensiun).",
                        value: 'B'
                    },
                    {
                        text: "Mendapatkan keuntungan maksimal dalam waktu sesingkat mungkin.",
                        value: 'C'
                    }
                ]
            }
        ];

        const quizResultsData = {
            'A': {
                title: "Si Penjaga Aman (Konservatif)",
                desc: "Anda sangat menghargai keamanan dan stabilitas. Pilihan investasi Anda cenderung rendah risiko. E-book tentang 'Manajemen Gaji' dan 'Perencanaan Tabungan' sangat cocok untuk Anda."
            },
            'B': {
                title: "Si Perencana Seimbang (Moderat)",
                desc: "Anda memahami pentingnya pertumbuhan jangka panjang namun tetap berhati-hati. Anda siap mengambil risiko terukur. Coba lihat e-book 'Investasi untuk Pemula' dan 'Psikologi Uang'."
            },
            'C': {
                title: "Si Pengambil Risiko (Agresif)",
                desc: "Anda berani dan mencari keuntungan tinggi! Anda tidak takut fluktuasi pasar. E-book tentang 'Diversifikasi Investasi' dan strategi lanjutan akan menantang Anda."
            }
        };

        // ===== DEKLARASI VARIABEL KUIS (GLOBAL UNTUK SCRIPT INI) =====
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let quizContainer, quizResultContainer, quizQuestionEl, quizOptionsEl, quizRetakeBtn, quizResultTitleEl,
            quizResultDescEl;


        // ===== FUNGSI UNTUK KUIS =====
        function startQuiz() {
            // Ambil elemennya di sini, SETELAH DOM siap
            quizContainer = document.getElementById('quiz-container');
            quizResultContainer = document.getElementById('quiz-result');
            quizQuestionEl = document.getElementById('quiz-question');
            quizOptionsEl = document.getElementById('quiz-options');
            quizRetakeBtn = document.getElementById('quiz-retake-btn');
            quizResultTitleEl = document.getElementById('quiz-result-title');
            quizResultDescEl = document.getElementById('quiz-result-desc');

            if (!quizContainer) return; // Hentikan jika kuis tidak ada di halaman

            currentQuestionIndex = 0;
            userAnswers = [];
            if (quizResultContainer) quizResultContainer.classList.add('hide');
            if (quizContainer) quizContainer.classList.remove('hide');
            showQuestion();

            if (quizRetakeBtn) {
                quizRetakeBtn.removeEventListener('click', startQuiz); // Hapus listener lama jika ada
                quizRetakeBtn.addEventListener('click', startQuiz);
            }
        }

        function showQuestion() {
            if (!quizQuestionEl || !quizQuestions[currentQuestionIndex]) {
                return;
            }
            const questionData = quizQuestions[currentQuestionIndex];
            quizQuestionEl.textContent = questionData.question;
            quizOptionsEl.innerHTML = '';
            questionData.options.forEach(option => {
                const optionBtn = document.createElement('button');
                optionBtn.textContent = option.text;
                optionBtn.className = 'quiz-option-btn';
                optionBtn.onclick = () => optionClicked(option.value);
                quizOptionsEl.appendChild(optionBtn);
            });
        }

        function optionClicked(value) {
            userAnswers.push(value);
            currentQuestionIndex++;
            if (currentQuestionIndex < quizQuestions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            if (quizContainer) quizContainer.classList.add('hide');
            if (quizResultContainer) quizResultContainer.classList.remove('hide');
            const counts = {};
            userAnswers.forEach(answer => {
                counts[answer] = (counts[answer] || 0) + 1;
            });
            let finalProfile = 'B';
            let maxCount = 0;
            for (const [key, value] of Object.entries(counts)) {
                if (value > maxCount) {
                    maxCount = value;
                    finalProfile = key;
                }
            }
            const result = quizResultsData[finalProfile];
            if (quizResultTitleEl) quizResultTitleEl.textContent = result.title;
            if (quizResultDescEl) quizResultDescEl.textContent = result.desc;
        }


        // ===== FUNGSI RENDER EBOOK & BLOG =====
        function renderEbooks(list) {
            const ebooksGrid = document.getElementById('ebooksGrid');
            const totalCount = document.getElementById('totalCount');
            if (!ebooksGrid || !totalCount) return;

            ebooksGrid.innerHTML = '';
            list.forEach(e => {
                const tpl = document.getElementById('ebookTpl').content.cloneNode(true);
                const coverEl = tpl.querySelector('.cover');
                if (e.imgUrl) {
                    // Jika ada imgUrl, set sebagai background image
                    coverEl.style.backgroundImage = `url('${e.imgUrl}')`;
                    coverEl.textContent = ''; // Hapus teks (MF, IP, dll)
                } else {
                    // Jika tidak ada imgUrl, pakai coverText seperti biasa
                    coverEl.style.backgroundImage = 'none';
                    coverEl.textContent = e.coverText;
                }
                tpl.querySelector('h4').textContent = e.title;
                tpl.querySelector('p').textContent = e.desc;
                tpl.querySelector('.readBtn').addEventListener('click', () => openReader(e));
                tpl.querySelector('.downloadBtn').addEventListener('click', () => downloadFile(e));
                ebooksGrid.appendChild(tpl);
            });
            totalCount.textContent = list.length;
        }

        function renderBlog() {
            const blogList = document.getElementById("blogList");
            if (blogList) {
                posts.forEach(post => {
                    const postEl = document.createElement("div");
                    postEl.classList.add("post");
                    postEl.innerHTML = `
                        <h4>${post.title}</h4>
                        <p>${post.excerpt}</p>
                        <a href="${post.url}" target="_blank" rel="noopener noreferrer">Read more â†’</a>
                    `;
                    blogList.appendChild(postEl);
                });
            }
        }

        // ===== Reader & Download =====
        // ===== Reader & Download =====
        function openReader(e) {
            // Logika "Baca" (Gratis): Langsung buka link file di tab baru.
            if (e.file && (e.file.startsWith('https://') || e.file.startsWith('http://'))) {
                window.open(e.file, '_blank');
            } else {
                console.error('Link e-book tidak valid:', e.file);
                alert('Maaf, link e-book ini sepertinya rusak.');
            }
        }

        function downloadFile(e) {
            // Logika "Download" (Cek Subscribe)

            // 1. Cek status subscribe dari localStorage (fungsi ini sudah ada di file Anda)
            const subs = loadSubs();

            // 2. Cek apakah array 'subs' punya isi (artinya sudah pernah subscribe)
            if (subs.length === 0) {
                // JIKA BELUM SUBSCRIBE
                alert("Anda harus subscribe terlebih dahulu untuk men-download e-book ini.");

                // Ambil elemen form subscribe
                const subscribeSection = document.getElementById('subscribeForm');

                if (subscribeSection) {
                    // Scroll ke form subscribe
                    subscribeSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });

                    // Beri efek highlight pada section subscribe
                    const subBox = subscribeSection.closest('section'); // Dapatkan <section> terdekat
                    if (subBox) {
                        subBox.style.transition = 'background-color 0.2s linear';
                        subBox.style.backgroundColor = 'rgba(34, 197, 94, 0.1)'; // Warna accent glow
                        setTimeout(() => {
                            subBox.style.backgroundColor = ''; // Kembalikan ke normal
                        }, 1500);
                    }
                }
            } else {
                // JIKA SUDAH SUBSCRIBE (simulasi berhasil)
                alert('Terima kasih sudah subscribe! Download Anda akan dimulai.');

                // Lanjutkan logika "download". 
                // Catatan: Cara terbaik untuk "download" link GDrive adalah membukanya di tab baru.
                // Pengguna bisa men-download manual dari tampilan Google Drive.
                if (e.file && (e.file.startsWith('https://') || e.file.startsWith('http://'))) {
                    window.open(e.file, '_blank');
                } else {
                    console.error('Link e-book tidak valid:', e.file);
                    alert('Maaf, link e-book ini sepertinya rusak.');
                }
                _
            }
        }

        // ===== Subscribe (localStorage + download) =====
        const subsKey = 'mindwealt_subscribers_v2';

        function loadSubs() {
            try {
                return JSON.parse(localStorage.getItem(subsKey) || '[]');
            } catch (err) {
                return [];
            }
        }

        function saveSubs(arr) {
            localStorage.setItem(subsKey, JSON.stringify(arr));
        }

        // ===== FUNGSI UNTUK SCROLL & NAVBAR =====
        function handleScroll() {
            const navLinks = document.querySelectorAll(".nav-links a");
            const sections = document.querySelectorAll("section");
            let currentSection = "";

            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100; // Diberi offset 100px
                if (window.scrollY >= sectionTop) {
                    currentSection = section.getAttribute("id");
                }
            });

            navLinks.forEach(a => {
                a.classList.remove("active");
                if (a.getAttribute("href") === `#${currentSection}`) {
                    a.classList.add("active");
                }
            });

            // Progress Bar
            const progress = document.getElementById('scroll-progress');
            if (progress) { // Cek apakah progress bar ada
                const totalHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrollPercent = (window.scrollY / totalHeight) * 100;
                progress.style.width = scrollPercent + '%';
            }
        }


        // ===================================
        // ===== FUNGSI LOAD UTAMA (DOM) =====
        // ===================================
        // Saat DOM (HTML) sudah siap, jalankan semua kode yang butuh getElementById
        document.addEventListener("DOMContentLoaded", () => {

            // Logika Welcome Screen
            const welcome = document.getElementById("welcome-screen");
            const enterBtn = document.getElementById("enterBtn");
            if (enterBtn && welcome) {
                enterBtn.addEventListener("click", () => {
                    welcome.classList.add("hide");
                    document.body.style.opacity = 0;
                    setTimeout(() => {
                        if (welcome) welcome.remove();
                        document.body.style.transition = "opacity 0.6s ease";
                        document.body.style.opacity = 1;
                    }, 800);
                });
            }

            // Mulai Kuis
            startQuiz();

            // Render Ebooks
            renderEbooks(ebooks);

            // Render Blog
            renderBlog();

            // Inisialisasi Ikon
            lucide.createIcons();

            // ===== LOGIKA KALKULATOR BARU ====
            const calcForm = document.getElementById('calc-form');
            const calcResultBox = document.getElementById('calc-result');

            if (calcForm) {
                calcForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const principal = parseFloat(document.getElementById('calc-principal').value) || 0;
                    const monthly = parseFloat(document.getElementById('calc-monthly').value) || 0;
                    const interest = parseFloat(document.getElementById('calc-interest').value) || 0;
                    const years = parseFloat(document.getElementById('calc-years').value) || 0;
                    const r = interest / 100;
                    const n = 12;
                    const t = years;
                    const totalMonths = n * t;
                    const r_monthly = r / n;
                    const fv_principal = principal * Math.pow((1 + r_monthly), totalMonths);
                    const fv_pmt = monthly * ((Math.pow((1 + r_monthly), totalMonths) - 1) / r_monthly);
                    const totalValue = fv_principal + fv_pmt;
                    const totalInvested = principal + (monthly * totalMonths);
                    const totalInterest = totalValue - totalInvested;
                    const formatter = new Intl.NumberFormat('id-ID', {
                        style: 'currency',
                        currency: 'IDR',
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0,
                    });
                    document.getElementById('calc-result-total').textContent = formatter.format(
                        totalValue);
                    document.getElementById('calc-result-principal').textContent = formatter.format(
                        totalInvested);
                    document.getElementById('calc-result-interest').textContent = formatter.format(
                        totalInterest);
                    const resultTitle = calcResultBox.querySelector('h4');
                    resultTitle.textContent = `Hasil Investasi Anda dalam ${years} tahun:`;
                    calcResultBox.classList.remove('hide');
                });
            }

            // ===== Event Listener Filter Ebook =====
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove(
                        'active'));
                    btn.classList.add('active');
                    const f = btn.dataset.filter;
                    if (f === 'all') {
                        renderEbooks(ebooks);
                    } else if (f === 'Finance') {
                        const filtered = ebooks.filter(e => e.category === 'Finance' || e
                            .category === 'Money');
                        renderEbooks(filtered);
                    } else {
                        const filtered = ebooks.filter(e => e.category === f);
                        renderEbooks(filtered);
                    }
                });
            });

            // ===== Subscribe (localStorage + download) =====
            const subs = loadSubs();
            const subscribeForm = document.getElementById('subscribeForm');
            if (subscribeForm) {
                subscribeForm.addEventListener('submit', (ev) => {
                    ev.preventDefault();
                    const name = document.getElementById('subName').value.trim();
                    const email = document.getElementById('subEmail').value.trim();
                    const msg = document.getElementById('subscribeMsg');
                    if (!name || !email) return msg.textContent = 'Lengkapi nama dan email.';
                    subs.push({
                        name,
                        email,
                        time: new Date().toISOString()
                    });
                    saveSubs(subs);
                    msg.textContent = 'Berhasil berlangganan ðŸŽ‰';
                    subscribeForm.reset();
                });
            }
            const downloadSubsBtn = document.getElementById('downloadSubs');
            if (downloadSubsBtn) {
                downloadSubsBtn.addEventListener('click', () => {
                    const data = JSON.stringify(loadSubs(), null, 2);
                    const a = document.createElement('a');
                    a.href = URL.createObjectURL(new Blob([data], {
                        type: 'application/json'
                    }));
                    a.download = 'subscribers.json';
                    document.body.appendChild(a);
                    a.click();
                    a.remove();
                });
            }

            // ===== Contact Form =====
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', (ev) => {
                    ev.preventDefault();
                    const msg = document.getElementById('contactMsg');
                    msg.textContent = 'Pesan berhasil dikirim (simulasi).';
                    contactForm.reset();
                });
                document.getElementById('resetContact').addEventListener('click', () => {
                    contactForm.reset();
                    document.getElementById('contactMsg').textContent = '';
                });
            }

            // ===== Back to Top =====
            const backTop = document.getElementById('backTop');
            if (backTop) {
                backTop.addEventListener('click', () => window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                }));
                window.addEventListener('scroll', () => {
                    backTop.style.display = window.scrollY > 200 ? 'block' : 'none';
                });
            }

            // ===== Menu Toggle (mobile) =====
            const menuToggle = document.getElementById('menuToggle');
            const navLinks = document.getElementById('navLinks');
            if (menuToggle && navLinks) {
                menuToggle.addEventListener('click', () => {
                    const isOpen = navLinks.classList.toggle('show');
                    menuToggle.setAttribute('aria-expanded', String(isOpen));
                });

                navLinks.querySelectorAll('.dropdown-toggle').forEach(toggle => {
                    toggle.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const submenu = toggle.nextElementSibling;
                        if (submenu && submenu.classList.contains('dropdown-menu')) {
                            const isVisible = submenu.style.display === 'block';
                            submenu.style.display = isVisible ? 'none' : 'block';
                        }
                    });
                });

                navLinks.querySelectorAll('a[href^="#"]').forEach(a => {
                    a.addEventListener('click', () => {
                        if (navLinks.classList.contains('show')) {
                            navLinks.classList.remove('show');
                            menuToggle.setAttribute('aria-expanded', 'false');
                        }
                    });
                });

                menuToggle.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        menuToggle.click();
                    }
                });
            }

            // ===== Smooth scroll for nav links =====
            document.querySelectorAll('nav a[href^="#"]').forEach(link => {
                link.addEventListener('click', e => {
                    const href = link.getAttribute('href');
                    if (!href || href === '#') return;
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) target.scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // ===== Fade-in Observer (single observer) =====
            const fadeEls = document.querySelectorAll('.fade-in');
            const obs = new IntersectionObserver(entries => {
                entries.forEach(e => {
                    if (e.isIntersecting) e.target.classList.add('show');
                });
            }, {
                threshold: 0.12
            });
            fadeEls.forEach(el => obs.observe(el));

            // ===== Footer Year =====
            const yearEl = document.getElementById('year');
            if (yearEl) yearEl.textContent = new Date().getFullYear();

            // ===== Scroll progress bar =====
            window.addEventListener('scroll', handleScroll); // Ganti dari ('scroll', () => { ... })

            lucide.createIcons();
            // ===== LOGIKA BARU UNTUK SCROLL E-BOOK (DENGAN PANAH) =====
            const grid = document.getElementById('ebooksGrid');
            const btnPrev = document.getElementById('scrollPrev');
            const btnNext = document.getElementById('scrollNext');

            if (grid && btnPrev && btnNext) {

                const checkScroll = () => {
                    if (!grid) return; // Pengaman jika grid tidak ada
                    // Cek seberapa jauh di-scroll
                    const scrollLeft = grid.scrollLeft;
                    // Cek lebar total yang bisa di-scroll
                    const maxScroll = grid.scrollWidth - grid.clientWidth;

                    // Tampilkan/sembunyikan tombol 'Prev'
                    btnPrev.classList.toggle('visible', scrollLeft > 0);
                    // Tampilkan/sembunyikan tombol 'Next'
                    btnNext.classList.toggle('visible', scrollLeft < maxScroll - 5); // 5px buffer
                };

                // Klik Tombol Next
                btnNext.addEventListener('click', () => {
                    // 320px (lebar kartu) + 18px (gap)
                    grid.scrollBy({
                        left: 338,
                        behavior: 'smooth'
                    });
                });

                // Klik Tombol Prev
                btnPrev.addEventListener('click', () => {
                    grid.scrollBy({
                        left: -338,
                        behavior: 'smooth'
                    });
                });

                // Cek saat di-scroll manual (drag)
                grid.addEventListener('scroll', checkScroll, {
                    passive: true
                });

                // Cek saat ukuran grid berubah (misal: buku ditambah/difilter)
                // Ini JAUH LEBIH BAIK daripada mengedit renderEbooks
                const gridObserver = new ResizeObserver(() => {
                    checkScroll();
                });
                gridObserver.observe(grid);
            }
            // ===== SELESAI LOGIKA SCROLL BARU =====

            // ===== LOGIKA BARU UNTUK DRAG-TO-SCROLL (GESER DENGAN MOUSE) =====
            const slider = document.getElementById('ebooksGrid');
            if (slider) {
                let isDown = false;
                let startX;
                let scrollLeft;

                slider.addEventListener('mousedown', (e) => {
                    // Cek apakah target adalah tombol (agar tombol tetap bisa diklik)
                    if (e.target.closest('button')) return;

                    isDown = true;
                    slider.classList.add('active-drag'); // (Opsional) ganti cursor
                    startX = e.pageX - slider.offsetLeft;
                    scrollLeft = slider.scrollLeft;
                });

                slider.addEventListener('mouseleave', () => {
                    isDown = false;
                    slider.classList.remove('active-drag');
                });

                slider.addEventListener('mouseup', () => {
                    isDown = false;
                    slider.classList.remove('active-drag');
                    _
                });

                slider.addEventListener('mousemove', (e) => {
                    if (!isDown) return;
                    e.preventDefault();
                    const x = e.pageX - slider.offsetLeft;
                    const walk = (x - startX) * 2; // (Angka 2 = sensitivitas, bisa diubah)
                    slider.scrollLeft = scrollLeft - walk;
                });
            }
            // ===== SELESAI LOGIKA DRAG-TO-SCROLL =====
            // Pastikan kode ini ada di dalam DOMContentLoaded
            const comicSwiper = new Swiper('.comic-swiper', {
                grabCursor: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                keyboard: true,
            });
            /// --- Ambil elemen-elemen HTML ---
            const chatBubble = document.getElementById(
                "chatBubble"); // <-- Variabel yang hilang sudah ada di sini
            const chatWindow = document.getElementById("chatWindow");
            const closeChat = document.getElementById("closeChat");
            const sendButton = document.getElementById("sendButton");
            const chatInput = document.getElementById("chatInput");
            const chatBody = document.getElementById("chatBody");

            // Variabel untuk menyimpan riwayat chat (PENTING untuk kepribadian)
            let chatHistory = [];

            // Variabel untuk melacak status drag (untuk fitur geser)
            let hasDragged = false;

            // --- Logika untuk Buka/Tutup Jendela Chat ---
            // Cek dulu apakah elemennya ada sebelum menambahkan listener
            if (chatBubble) {
                chatBubble.addEventListener("click", () => {
                    // Cek apakah baru selesai di-drag
                    if (hasDragged) {
                        hasDragged = false; // Reset status
                        return; // Jika ini adalah akhir dari 'drag', JANGAN buka chat
                    }
                    // Jika bukan drag, buka/tutup chat
                    if (chatWindow) chatWindow.classList.toggle("show");
                });
            }

            if (closeChat) {
                closeChat.addEventListener("click", () => {
                    if (chatWindow) chatWindow.classList.remove("show");
                });
            }

            // --- Logika untuk Fitur Geser (Drag-and-Drop) ---
            if (chatBubble) {
                let isDragging = false;
                let offsetX, offsetY;
                let startX, startY;

                function onDragStart(clientX, clientY) {
                    isDragging = true;
                    hasDragged = false; // Reset status drag

                    // Posisi awal mouse
                    startX = clientX;
                    startY = clientY;

                    // Offset dari top/left bubble
                    offsetX = clientX - chatBubble.getBoundingClientRect().left;
                    offsetY = clientY - chatBubble.getBoundingClientRect().top;

                    chatBubble.style.cursor = 'grabbing';
                    chatBubble.style.transition = 'none'; // Matikan transisi agar tidak lag
                }

                function onDragMove(clientX, clientY) {
                    if (!isDragging) return;

                    // Cek apakah sudah dianggap 'drag' (bergerak lebih dari 5px)
                    const deltaX = Math.abs(clientX - startX);
                    const deltaY = Math.abs(clientY - startY);
                    if (deltaX > 5 || deltaY > 5) {
                        hasDragged = true; // Konfirmasi ini adalah drag, bukan click
                    }

                    let newLeft = clientX - offsetX;
                    let newTop = clientY - offsetY;

                    // Batasan (Boundaries) agar tidak keluar layar
                    const bubbleWidth = chatBubble.offsetWidth;
                    const bubbleHeight = chatBubble.offsetHeight;
                    const padding = 10; // Jarak minimal 10px dari pinggir layar

                    newLeft = Math.max(padding, Math.min(newLeft, window.innerWidth - bubbleWidth - padding));
                    newTop = Math.max(padding, Math.min(newTop, window.innerHeight - bubbleHeight - padding));

                    chatBubble.style.left = newLeft + 'px';
                    chatBubble.style.top = newTop + 'px';

                    // Override style bottom/right agar tidak konflik
                    chatBubble.style.right = 'auto';
                    chatBubble.style.bottom = 'auto';
                }

                function onDragEnd() {
                    isDragging = false;
                    chatBubble.style.cursor = 'grab';
                    chatBubble.style.transition = ''; // Kembalikan transisi (jika ada)

                    document.removeEventListener('mousemove', onMouseMove);
                    document.removeEventListener('mouseup', onMouseUp);
                    document.removeEventListener('touchmove', onTouchMove);
                    document.removeEventListener('touchend', onTouchEnd);
                }

                // --- Mouse Events ---
                chatBubble.addEventListener('mousedown', (e) => {
                    onDragStart(e.clientX, e.clientY);
                    document.addEventListener('mousemove', onMouseMove);
                    document.addEventListener('mouseup', onMouseUp);
                });

                function onMouseMove(e) {
                    onDragMove(e.clientX, e.clientY);
                }

                function onMouseUp() {
                    onDragEnd();
                }

                // --- Touch Events (Mobile) ---
                chatBubble.addEventListener('touchstart', (e) => {
                    const touch = e.touches[0];
                    onDragStart(touch.clientX, touch.clientY);
                    document.addEventListener('touchmove', onTouchMove, {
                        passive: false
                    });
                    document.addEventListener('touchend', onTouchEnd);
                }, {
                    passive: false
                });

                function onTouchMove(e) {
                    if (!isDragging) return;
                    e.preventDefault(); // Mencegah scroll halaman saat bubble di-drag
                    const touch = e.touches[0];
                    onDragMove(touch.clientX, touch.clientY);
                }

                function onTouchEnd() {
                    onDragEnd();
                }
            }

            // --- Logika untuk Mengirim Pesan ---
            if (sendButton) {
                sendButton.addEventListener("click", kirimPesan);
            }
            if (chatInput) {
                chatInput.addEventListener("keydown", (event) => {
                    if (event.key === "Enter") {
                        event.preventDefault(); // Mencegah 'Enter' membuat baris baru
                        kirimPesan();
                    }
                });
            }

            function kirimPesan() {
                if (!chatInput) return;
                const pesanPengguna = chatInput.value.trim();
                if (pesanPengguna === "") return; // Jangan kirim pesan kosong

                // Tampilkan pesan pengguna di chat
                tampilkanPesan(pesanPengguna, "user");

                // Tambahkan pesan pengguna ke riwayat
                chatHistory.push({
                    role: "user",
                    parts: [{
                        text: pesanPengguna
                    }]
                });

                // Kosongkan input
                chatInput.value = "";

                // Tampilkan indikator loading
                tampilkanLoading();

                // Panggil API Gemini (backend)
                panggilGeminiAPI(pesanPengguna);
            }

            // --- Fungsi untuk Menampilkan Pesan di Jendela Chat ---
            function tampilkanPesan(pesan, pengirim) {
                if (!chatBody) return;
                const divPesan = document.createElement("div");
                divPesan.classList.add("chat-message", pengirim);

                divPesan.innerHTML = escapeHTML(pesan).replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

                chatBody.appendChild(divPesan);

                // Auto-scroll ke pesan terbaru
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function escapeHTML(str) {
                if (typeof str !== 'string') return '';
                return str.replace(/[&<>"']/g, function (match) {
                    return {
                        '&': '&amp;',
                        '<': '&lt;',
                        '>': '&gt;',
                        '"': '&quot;',
                        "'": '&#39;'
                    } [match];
                });
            }

            // --- Fungsi untuk Menampilkan Indikator Loading ---
            function tampilkanLoading() {
                if (!chatBody) return;
                const divLoading = document.createElement("div");
                divLoading.classList.add("chat-message", "loading");
                // Mengganti teks loading sesuai brand
                divLoading.textContent = "Wealth Buddy lagi mikir... ðŸŒ±";
                divLoading.id = "loadingIndicator"; // Beri ID agar mudah dihapus
                chatBody.appendChild(divLoading);

                // Auto-scroll
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            // --- Fungsi untuk Menghapus Indikator Loading ---
            function hapusLoading() {
                const loadingIndicator = document.getElementById("loadingIndicator");
                if (loadingIndicator && chatBody) {
                    chatBody.removeChild(loadingIndicator);
                }
            }

            // --- Fungsi Inti: Memanggil API Gemini ---
            async function panggilGeminiAPI(pesan) {

                // URL sekarang mengarah ke backend Vercel Anda
                const API_URL = "/api/chat"; // <-- Pastikan ini URL Vercel

                // Ambil 5 riwayat chat terakhir (tanpa kepribadian, itu urusan server)
                const historyForBackend = chatHistory.slice(-5);

                const requestBody = {
                    message: pesan,
                    history: historyForBackend,
                };

                try {
                    const response = await fetch(API_URL, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify(requestBody),
                    });

                    // Hapus loading setelah mendapat jawaban
                    hapusLoading();

                    if (!response.ok) {
                        const errorData = await response.json();
                        console.error("Error response dari server:", errorData);
                        tampilkanPesan(
                            "Aduh, serverku lagi error nih: " + (errorData.error || response
                                .statusText) + " ðŸ˜¥",
                            "bot"
                        );
                        chatHistory.pop(); // Hapus pesan user dari history jika gagal
                        return;
                    }

                    const data = await response.json();

                    // Ambil teks jawaban dari respons server
                    const jawabanBot = data.text;

                    tampilkanPesan(jawabanBot, "bot");

                    // Simpan jawaban bot ke riwayat
                    chatHistory.push({
                        role: "model",
                        parts: [{
                            text: jawabanBot
                        }]
                    });

                } catch (error) {
                    // Jika terjadi error di sisi klien (misal: jaringan putus)
                    hapusLoading();
                    console.error("Error fetching API:", error);
                    tampilkanPesan(
                        "Maaf ya sedang ada kendala nihh dari Wealth BuddyðŸ˜ ",
                        "bot"
                    );
                    chatHistory.pop();
                }
            } // <-- PENUTUP FUNGSI panggilGeminiAPI
            // ========================================================
            // // ========================================================

        }); // <-- INI ADALAH PENUTUP DOMContentLoaded YANG BENAR


        // 2. Saat semua resource (gambar, dll) sudah siap
        //    Ini adalah blok terpisah. JANGAN digabung dengan DOMContentLoaded.
        window.addEventListener('load', () => {
            // Sembunyikan Preloader
            const preloader = document.getElementById('preloader');
            if (preloader) setTimeout(() => preloader.classList.add('hide'), 800);

            // Tampilkan body
            document.body.classList.add('loaded');
        });

        async function sendMessageToBot(userMessage) {
            try {
                const response = await fetch("/api/chat", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        message: userMessage,
                        history: [], // bisa diisi kalau mau simpan percakapan
                    }),
                });

                const data = await response.json();
                if (data.text) {
                    console.log("Bot:", data.text);
                    document.getElementById("botReply").innerText = data.text;
                } else {
                    console.error("Error:", data.error);
                }
            } catch (err) {
                console.error("Gagal kirim pesan:", err);
            }
        }

        // contoh pemanggilan:
        document.getElementById("sendBtn").addEventListener("click", () => {
            const userMsg = document.getElementById("userInput").value;
            sendMessageToBot(userMsg);
        });
    </script>


</body>

</html>
